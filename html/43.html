<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>

	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


	<!-- styles for this little demo page -->
	<link rel="stylesheet" href="css/circle43.css">
</head>

<body>

	<div class="page hidden">
		<div class="c100 p0 big green" id="circlesmall" style="width: 480px; height:360px; border: 5px solid black; border-radius: 50%; overflow: hidden;">
			<div class="slice">
				<div class="bar"></div>
				<div class="fill"></div>
			</div>
			
			<div class="loader visible" style="z-index:1; overflow: hidden;"> 
				<span class="b b1" style="border-radius: 50%"/>
				<span class="b b2" style="border-radius: 50%"/>
				<span class="b b3" style="border-radius: 50%"/>
				<span class="b b4" style="border-radius: 50%"/>
			</div> 
			
		<!--	<div class="loader visible" style="z-index:1; overflow: hidden">
				<div class="b b1" style="border-radius: 50%"/>		
			</div>  -->
			
			<div class="tablepage collapse" style="vertical-align: right; z-index:1; position: inherit; left: 0%; color: white">
				<p style="font-size:0.5em"> </p>
				<table align="center" style="font-size:0.07em; width:100%; font-weight: bold">
					<tbody>
						<tr>
							<td colspan="6" style="text-align:center">
								<img src="picture/faceit.png" style="width:25%">
							</td>
						</tr>
						<tr>
							<td colspan="6" style="text-align:center; height:35px">
								<img id="profilepicture"
									src="https://assets.faceit-cdn.net/avatars/62d12eaa-b0a6-4f8e-a1b9-c0c742d95cb1_1550907994989.jpg"
									style="width:7.5%; -webkit-border-radius: 200px">
								<span id="username" style="font-size:1.2em"></span>
							</td>
						</tr>
						<tr style="height: 11px">
							<td style="width:10%"></td>
							<td style="text-align:right; width:15%">
								<img id="flag"
									src="https://cdn-frontend.faceit.com/web/112-1536332382/src/app/assets/images-compress/flags/DE.png"
									style="width:40%; display:block; float:right"></td>
							<td style="text-align:right; width:25%; font-size:0.9em">Elo:</td>
							<td style="text-align:left; width:25%; font-size:0.9em"><span id="playerElo"></span>
							</td>
							<td style="vertical-align:bottom; width:15%"><img id="skill_level_icon"
									src="https://cdn-frontend.faceit.com/web/960/src/app/assets/images-compress/skill-icons/skill_level_6_svg.svg"
									style="width:40%; display:block"></td>
							<td style="width:10%"></td>
						</tr>
					</tbody>
				</table>
				<table align="center" style="font-size:0.07em; width:100%; font-weight: bold">
					<tbody>
						<tr>
							<td style="width:10%"></td>
							<td style="width:15%; text-align:right; font-size:0.7em">Wins:</td>
							<td style="width:9%; text-align:right; font-size:0.7em"><span id="playerWins">125</span>
							</td>
							<td style="width:2%; text-align:center; font-size:0.7em">/</td>
							<td style="width:9%; text-align:left; font-size:0.7em"><span id="playerGames">250</span>
							</td>
							<td style="width:30%; text-align:right; font-size:0.7em">Winstreak:</td>
							<td style="width:6.5%; text-align:right; font-size:0.7em"><span
									id="playerCurrentWinstreak">2</span></td>
							<td style="width:2%; text-align:center; font-size:0.7em">/</td>
							<td style="width:6.5%; text-align:left; font-size:0.7em"><span
									id="playerLongestWinstreak">8</span></td>
							<td style="width:10%"></td>
						</tr>
						<tr>
							<td colspan="10"
								style="text-align:center; width:100%; height: 10px; padding-bottom: 0px">
								<hr style="width:95%; text-align:center" />
							</td>
						</tr>
					</tbody>
				</table>


				<table align="center" style="font-size:0.07em; width:100%; font-weight: bold">
					<tbody>
						<tr class="Faceit collapse">
							<td colspan="7" style="text-align:center; font-size:0.95em; color:#cccccc;text-decoration:underline"><span style="color: #ffff">Faceit Roomstats</span></td>
						</tr>
						<tr class="MM visible">
							<td colspan="7" style="text-align:center; font-size:0.8em"> - </td>
						</tr>
						<tr class="Faceit collapse">
							<td style="width:1%"></td>
							<td colspan="2" style="text-align:center; width:49%; font-size:0.8em"><span
									style="color: #ffff" id="playerOwnTeamName"></span></td>
							<td style="text-align:center; width:5%; font-size:0.7em"><span>VS</span></td>
							<td colspan="2" style="text-align:center; width:49%; font-size:0.8em"><span
									style="color: #ffff" id="playerEnemyTeam"></span></td>
							<td style="width:1%"></td>
						</tr>
						</tr>
						<tr class="MM visible">
							<td colspan="7" style="text-align:center; font-size:0.9em"> You're not playing an offical Faceitmatch</td>
						</tr>
						<tr class="Faceit collapse">
							<td style="width:1%"></td>
							<td style="text-align:center; width:42.5%; font-size:0.8em"><span style="color: #ffff">Avg. Elo:</span><span
									style="color: #ffff" id="ownTeamAvgElo"></span></td>
							<td style="text-align:right; width:5%; font-size:0.8em; color:green"><span
									id="plusElo">45</span></td>
							<td style="width:7.5%; text-align:center"><img src="picture/updown1.png"
									style="width:100%; display:block"></td>
							<td style="text-align:left; width:5%; font-size:0.8em; color:red"><span
									 id="minusElo">5</span></td>
							<td style="text-align:center; width:42.5%;  font-size:0.8em"><span style="color: #ffff">Avg. Elo:</span><span
									style="color: #ffff" id="enemyTeamAvgElo"></span></td>
							<td style="width:1%"></td>
						</tr>
						<tr class="MM visible">
							<td colspan="7" style="text-align:center; width:98%; font-size:0.8em"> - </td>
						</tr>
						<tr>
							<td colspan="7" style="text-align:center; width:100%; height: 25px">
								<hr style="width:90%; text-align:center" />
							</td>
						</tr>
					</tbody>
				</table>
				
				
				<div class="slider" style="width: 235px; margin: auto;">
					<ul class="slideList">
						<div class="currentMatchstats slide slide01">
							<table align="center" style="font-size:0.07em; width:100%; font-weight:bold">
								<tbody>
									<tr>
										<td colspan="7" style="text-align:center; font-size:0.7em"><u>Current Matchstats</u></td>
									</tr>
									<tr>
										<td style="text-align:center; font-size:0.7em">Kills</td>
										<td style="text-align:center; font-size:0.7em">Assists</td>
										<td style="text-align:center; font-size:0.7em">Deaths</td>
										<td style="text-align:center; font-size:0.7em">MVPs</td>
										<td style="text-align:center; font-size:0.7em">Score</td>
									</tr>
									<tr>
										<td style="text-align:center; font-size:0.7em"><span id="playerKills"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="playerAssists"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="playerDeaths"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="playerMVPs"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="playerScore"></span>
										</td>
									</tr>
								</tbody>
							</table>
	
							<table align="center" style="font-size:0.07em; width:100%; height:20px; font-weight:bold">
								<tbody>
									<tr>
										<td style="width:12%"></td>
										<td style="text-align:center; width:76%">
											<div class="progress" style="width: 100%; margin: auto;">
												<div class="progress bg-danger progress-bar-striped progress-bar-animated">
													<div class="progress-bar bg-success progress-bar-striped progress-bar-animated"
														role="progressbar" id="barchartKills" aria-valuenow="100" aria-valuemin="0"
														aria-valuemax="100" style="width: 50%"></div>
												</div>
											</div>
										</td>
										<td style="width:12%"></td>
									</tr>
								</tbody>
							</table>
							
							<table align="center" style="font-size:0.07em; width:100%; height:20px; font-weight:bold">
								<tbody>
									<tr class="deaths">
										<td style="width:32.5%"></td>
										<td style="text-align:center; width:5%;"><img style="display:block" width="12" height="12.5" src="../picture/image.png" id="death4" class="deathSkull hidden" alt="image"></td>
										<td style="text-align:center; width:5%;"><img style="display:block" width="12" height="12.5" src="../picture/image.png" id="death2" class="deathSkull hidden" alt="image"></td>
										<td style="text-align:center; width:5%;"><img style="display:block" width="12" height="12.5" src="../picture/image.png" id="death1" class="deathSkull hidden" alt="image"></td>
										<td style="text-align:center; width:5%;"><img style="display:block" width="12" height="12.5" src="../picture/image.png" id="death3" class="deathSkull hidden" alt="image"></td>
										<td style="text-align:center; width:5%;"><img style="display:block" width="12" height="12.5" src="../picture/image.png" id="death5" class="deathSkull hidden" alt="image"></td>
										<td style="width:32.5%"></td>
									</tr>
								</tbody>
							</table>
						</div>
						
						<div class="20Matchstats slide slide02">
							<table align="center" style="font-size:0.07em; width:100%; font-weight:bold">
								<tbody>
									<tr>
										<td colspan="6" style="text-align:center; font-size:0.7em"><u>Last 20 Matchstats</u></td>
									</tr>
									<tr>
										<td style="text-align:center; font-size:0.7em">Kills</td>
										<td style="text-align:center; font-size:0.7em">HS %</td>
										<td style="text-align:center; font-size:0.7em">K/D</td>
										<td style="text-align:center; font-size:0.7em">K/R</td>
									</tr>
									<tr>
										<td style="text-align:center; font-size:0.7em"><span id="player20Kills"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="player20HS"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="player20KD"></span>
										</td>
										<td style="text-align:center; font-size:0.7em"><span id="player20KR"></span>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</ul>
				</div>
				<div style="text-align:center">
					<span class="dot"></span> 
					<span class="dot"></span> 
					<span class="dot"></span> 
				</div>
			</div>
		</div>
		
		<script>
			var slideIndex = 0;
			showSlides();

			function showSlides() {
			  var i;
			  var slides = document.getElementsByClassName("mySlides");
			  var dots = document.getElementsByClassName("dot");
			  for (i = 0; i < slides.length; i++) {
				slides[i].style.display = "none";  
			  }
			  slideIndex++;
			  if (slideIndex > slides.length) {slideIndex = 1}    
			  for (i = 0; i < dots.length; i++) {
				dots[i].className = dots[i].className.replace(" active", "");
			  }
			  slides[slideIndex-1].style.display = "block";  
			  dots[slideIndex-1].className += " active";
			  setTimeout(showSlides, 10000); // Change image every 2 seconds
			}
		</script>
		<script src="/socket.io/socket.io.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script>
			var socket = io();
			socket.on('test', function (json) {
				if (json == null || json.gamestate === 0) {
					$(".page").removeClass("visible");
					$(".page").addClass("hidden");
					
				} else if (json.gamestate === 1) {
					$(".page").removeClass("hidden");
					$(".page").addClass("visible");
					
					if (json.requeststate === 1) {
						$(".tablepage").removeClass("visible");
						$(".tablepage").addClass("collapse");
						$(".loader").removeClass("collapse");
						$(".loader").addClass("visible");
					} else {
					
						if (json.kills === undefined) {
						} else {
							if (json.gamename === "Faceit") {
								$(".Faceit").addClass("visible");
								$(".Faceit").removeClass("collapse");
								$(".MM").addClass("collapse");
								$(".MM").removeClass("visible");
							} else {
								$(".Faceit").addClass("collapse");
								$(".Faceit").removeClass("visible");
								$(".MM").addClass("visible");
								$(".MM").removeClass("collapse");
							}
							
							$(".tablepage").removeClass("collapse");
							$(".tablepage").addClass("visible");
							$(".loader").removeClass("visible");
							$(".loader").addClass("collapse");
							
							
							
							document.getElementById("playerKills").innerHTML = json.kills;
							document.getElementById("playerAssists").innerHTML = json.assists;
							document.getElementById("playerDeaths").innerHTML = json.deaths;
							document.getElementById("playerMVPs").innerHTML = json.mvps;
							document.getElementById("playerScore").innerHTML = json.score;
							document.getElementById("username").innerHTML = json.name;
							$("#profilepicture").attr("src", json.avatar);
							if(json.flag == "") $("#flag").attr("src", "");
							else $("#flag").attr("src", json.flag);

							if(json.faceitlevel == 0) $("#skill_level_icon").attr("src", "");
							else $("#skill_level_icon").attr("src", "https://cdn-frontend.faceit.com/web/960/src/app/assets/images-compress/skill-icons/skill_level_" + json.faceitlevel + "_svg.svg");
							document.getElementById("playerElo").innerHTML = json.elo;
							document.getElementById("playerWins").innerHTML = json.wins;
							document.getElementById("playerGames").innerHTML = json.playedGames;
							document.getElementById("playerCurrentWinstreak").innerHTML = json.currentWinstreak;
							document.getElementById("playerLongestWinstreak").innerHTML = json.longestWinstreak;

							document.getElementById("playerOwnTeamName").innerHTML = json.ownTeamname;
							document.getElementById("playerEnemyTeam").innerHTML = json.enemyTeamname;
							document.getElementById("ownTeamAvgElo").innerHTML = json.ownTeamAVGElo;
							document.getElementById("enemyTeamAvgElo").innerHTML = json.enemyTeamAVGElo;
							document.getElementById("plusElo").innerHTML = json.winElo;
							document.getElementById("minusElo").innerHTML = json.lossElo;

							document.getElementById("player20Kills").innerHTML = json.player20Kills;
							document.getElementById("player20HS").innerHTML = json.player20HS;
							document.getElementById("player20KD").innerHTML = json.player20KD;
							document.getElementById("player20KR").innerHTML = json.player20KR;


							$(".deathSkull").addClass("hidden");

							if(json.r_kills >= 1) {
								$("#death1").addClass("visible");
								$("#death1").removeClass("hidden");
							}
							if(json.r_kills >= 2) {
								$("#death2").addClass("visible");
								$("#death2").removeClass("hidden");
							}
							if(json.r_kills >= 3) {
								$("#death3").addClass("visible");
								$("#death3").removeClass("hidden");
							}
							if(json.r_kills >= 4) {
								$("#death4").addClass("visible");
								$("#death4").removeClass("hidden");
							}
							if(json.r_kills >= 5) {
								$("#death5").addClass("visible");
								$("#death5").removeClass("hidden");
							}


							if(json.playersteam!=json.mysteam){
								document.getElementById("circlesmall").style.borderRadius = "0%";
							}else{
								document.getElementById("circlesmall").style.borderRadius = "50%";							
							}

							var kd = 0;
							var kdlength = 1;
							if (json.deaths === 0 && json.kills === 0) {
								kd = 0;
								kdlength = 0.5;
							} else if (json.deaths === 0) {
								kd = json.kills;
							} else {
								kd = json.kills / json.deaths;
								kdlength = json.kills / (json.kills + json.deaths);
							}
							$("#barchartKills").width($(".progress").width() * kdlength);
						}
					}
				} else {}
			});
		</script>
	</div>

</body>

</html>
