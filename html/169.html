<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>

	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


	<link rel="stylesheet" href="css/basic169.css">
</head>

<body>

	<div class="page hidden">
		<div class="circular">
			<div class="circle">
			  <div class="bar left">
				<div class="progress"></div>
			  </div>
			  <div class="bar right">
				<div class="progress"></div>
			  </div>
			</div>
		  </div>

		<div class="main circle">
			<div class="slice">
				<div class="bar"></div>
				<div class="fill"></div>
			</div>
			
			<div class="loader visible" style="z-index:1; overflow: hidden;"> 
				<span class="b b1" style="border-radius: 50%"/>
				<span class="b b2" style="border-radius: 50%"/>
				<span class="b b3" style="border-radius: 50%"/>
				<span class="b b4" style="border-radius: 50%"/>
			</div> 
						
			<div class="tablepage collapse">
				<div>
					<div class="user">
						<img id="profilepicture" src="https://assets.faceit-cdn.net/avatars/62d12eaa-b0a6-4f8e-a1b9-c0c742d95cb1_1550907994989.jpg">
						<span id="username"></span>
					</div>
					<div class="faceitGeneral">
						<img class="flag" id="flag" src="https://cdn-frontend.faceit.com/web/112-1536332382/src/app/assets/images-compress/flags/DE.png">
						<div class="Elo">
							<span>Elo:</span>
							<span id="playerElo"></span>
						</div>
						<img class="skill" id="skill_level_icon" src="https://cdn-frontend.faceit.com/web/960/src/app/assets/images-compress/skill-icons/skill_level_6_svg.svg">
					</div>
				
					<div class="FaceitWins">
						<div class="wins">
							 <span>Wins:</span>
							 <span id="playerWins">125</span>
							 <span>/<span>
							 <span id="playerGames">250</span>
						</div>
						<div class="wins">
							 <span>Winstreak</span>
							 <span id="playerCurrentWinstreak">2</span>
							 <span>/<span>
							 <span id="playerLongestWinstreak">8</span>
						</div>
					</div>
				</div>
				<div class="FaceitRoomStats">
					<span class="RoomHeadline">Faceit Roomstats</span>
					<div class="RoomName">
						<span class="TeamName" id="playerOwnTeamName">undefined</span>
						<span>vs</span>
						<span class="TeamName" id="playerEnemyTeam">undefined</span>
					</div>
					<div class="RoomElo">
						<div class="TeamElo">
							<span>Avg. Elo:</span>
							<span id="ownTeamAvgElo"></span>
						</div>
						<div class="PlusMinus">
							<span id="plusElo">45</span>
							<img class="arrowImg" src="picture/updown1.png">
							<span id="minusElo">5</span>
						</div>
						<div class="TeamElo">
							<span>Avg. Elo:</span>
							<span id="enemyTeamAvgElo"></span>
						</div>
					</div>
				</div>
				
				<div class="MMRoomStats">
					<span>-</span>
					<span>No Faceitmatch found</span>
					<span>-</span>
				</div>
				
				
				<div class="slider" style="width: 100%; margin: auto;">
					<ul class="slideList">
						<div class="currentMatchstats slide slide01">
							<table align="center" style="font-size:0.07em; width:100%; font-weight:bold">
								<tbody>
									<tr>
										<td colspan="7" class="MatchStatsHeadline">Current Matchstats</td>
									</tr>
									<tr>
										<td class="tableText">Kills</td>
										<td class="tableText">Assists</td>
										<td class="tableText">Deaths</td>
										<td class="tableText">MVPs</td>
										<td class="tableText">Score</td>
									</tr>
									<tr>
										<td class="tableText"><span class="tableText" id="playerKills"></span>
										</td>
										<td class="tableText"><span class="tableText" id="playerAssists"></span>
										</td>
										<td class="tableText"><span class="tableText" id="playerDeaths"></span>
										</td>
										<td class="tableText"><span class="tableText" id="playerMVPs"></span>
										</td>
										<td class="tableText"><span class="tableText" id="playerScore"></span>
										</td>
									</tr>
								</tbody>
							</table>
	
							<table align="center" style="font-size:0.07em; width:100%; height:20px; font-weight:bold">
								<tbody>
									<tr>
										<td style="width:12%"></td>
										<td style="text-align:center; width:76%">
											<div class="progress" style="width: 100%; margin: auto;">
												<div class="progress bg-danger progress-bar-striped progress-bar-animated">
													<div class="progress-bar bg-success progress-bar-striped progress-bar-animated"
														role="progressbar" id="barchartKills" aria-valuenow="100" aria-valuemin="0"
														aria-valuemax="100" style="width: 50%"></div>
												</div>
											</div>
										</td>
										<td style="width:12%"></td>
									</tr>
								</tbody>
							</table>
							
							<div class="deaths" style="display: flex; align-items: center; justify-content: center;">
								<img src="../picture/image.png" id="death1" class="deathSkull hidden" alt="image">
								<img src="../picture/image.png" id="death2" class="deathSkull hidden" alt="image">
								<img src="../picture/image.png" id="death3" class="deathSkull hidden" alt="image">
								<img src="../picture/image.png" id="death4" class="deathSkull hidden" alt="image">
								<img src="../picture/image.png" id="death5" class="deathSkull hidden" alt="image">
							</div>
						</div>
						
						<div class="20Matchstats slide slide02">
							<table align="center" style="font-size:0.07em; width:100%; font-weight:bold">
								<tbody>
									<tr>
										<td colspan="6" class="MatchStatsHeadline">Last 20 Matchstats</td>
									</tr>
									<tr>
										<td class="tableText">Kills</td>
										<td class="tableText">HS %</td>
										<td class="tableText">K/D</td>
										<td class="tableText">K/R</td>
									</tr>
									<tr>
										<td class="tableText"><span class="tableText" id="player20Kills"></span>
										</td>
										<td class="tableText"><span class="tableText" id="player20HS"></span>
										</td>
										<td class="tableText"><span class="tableText" id="player20KD"></span>
										</td>
										<td class="tableText"><span class="tableText" id="player20KR"></span>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</ul>
				</div>
			</div>
		</div>



		
		<script>
			var slideIndex = 0;
			showSlides();

			function showSlides() {
			  var i;
			  var slides = document.getElementsByClassName("mySlides");
			  var dots = document.getElementsByClassName("dot");
			  for (i = 0; i < slides.length; i++) {
				slides[i].style.display = "none";  
			  }
			  slideIndex++;
			  if (slideIndex > slides.length) {slideIndex = 1}    
			  for (i = 0; i < dots.length; i++) {
				dots[i].className = dots[i].className.replace(" active", "");
			  }
			  slides[slideIndex-1].style.display = "block";  
			  dots[slideIndex-1].className += " active";
			  setTimeout(showSlides, 10000); // Change image every 2 seconds
			}
		</script>
		<script src="/socket.io/socket.io.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script>
			var socket = io();
			socket.on('test', function (json) {
				if (json == null || json.phase == "gameover" || json.gamestate === 0 || json.activity == "menu") {
					$(".page").removeClass("visible");
					$(".page").addClass("hidden");
					
				} else if (json.gamestate === 1) {
					$(".page").removeClass("hidden");
					$(".page").addClass("visible");
					
					if (json.requeststate === 1) {
						$(".tablepage").removeClass("visible");
						$(".tablepage").addClass("collapse");
						$(".loader").removeClass("collapse");
						$(".loader").addClass("visible");
					} else {
					
						if (json.kills === undefined) {
						} else {
							if (json.gamename === "Faceit") {
								$(".FaceitRoomStats").addClass("visible");
								$(".FaceitRoomStats").removeClass("collapse");
								$(".MMRoomStats").addClass("collapse");
								$(".MMRoomStats").removeClass("visible");
							} else {
								$(".FaceitRoomStats").addClass("collapse");
								$(".FaceitRoomStats").removeClass("visible");
								$(".MMRoomStats").addClass("visible");
								$(".MMRoomStats").removeClass("collapse");
							}
							
							$(".tablepage").removeClass("collapse");
							$(".tablepage").addClass("visible");
							$(".loader").removeClass("visible");
							$(".loader").addClass("collapse");
							
							if(json.bomb=='planted'){
								$(".circular").addClass("visible");
								$(".circular").removeClass("hidden");
							}else{
								$(".circular").addClass("hidden");
								$(".circular").removeClass("visible");						
							}

							if(json.bomb=='defused'){
								$(".circular").addClass("visible");
								$(".circular").removeClass("hidden");
								$(".progress").addClass("green");
							}else{
								$(".progress").removeClass("green");						
							}
							
							document.getElementById("playerKills").innerHTML = json.kills;
							document.getElementById("playerAssists").innerHTML = json.assists;
							document.getElementById("playerDeaths").innerHTML = json.deaths;
							document.getElementById("playerMVPs").innerHTML = json.mvps;
							document.getElementById("playerScore").innerHTML = json.score;
							document.getElementById("username").innerHTML = json.name;
							$("#profilepicture").attr("src", json.avatar);
							if(json.flag == "") $("#flag").attr("src", "");
							else $("#flag").attr("src", json.flag);

							if(json.faceitlevel == 0) $("#skill_level_icon").attr("src", "");
							else $("#skill_level_icon").attr("src", "https://cdn-frontend.faceit.com/web/960/src/app/assets/images-compress/skill-icons/skill_level_" + json.faceitlevel + "_svg.svg");
							document.getElementById("playerElo").innerHTML = json.elo;
							document.getElementById("playerWins").innerHTML = json.wins;
							document.getElementById("playerGames").innerHTML = json.playedGames;
							document.getElementById("playerCurrentWinstreak").innerHTML = json.currentWinstreak;
							document.getElementById("playerLongestWinstreak").innerHTML = json.longestWinstreak;

							document.getElementById("playerOwnTeamName").innerHTML = json.ownTeamname;
							document.getElementById("playerEnemyTeam").innerHTML = json.enemyTeamname;
							document.getElementById("ownTeamAvgElo").innerHTML = json.ownTeamAVGElo;
							document.getElementById("enemyTeamAvgElo").innerHTML = json.enemyTeamAVGElo;
							document.getElementById("plusElo").innerHTML = json.winElo;
							document.getElementById("minusElo").innerHTML = json.lossElo;

							document.getElementById("player20Kills").innerHTML = json.player20Kills;
							document.getElementById("player20HS").innerHTML = json.player20HS;
							document.getElementById("player20KD").innerHTML = json.player20KD;
							document.getElementById("player20KR").innerHTML = json.player20KR;


							$(".deathSkull").addClass("hidden");

							if(json.r_kills >= 1) {
								$("#death1").addClass("visible");
								$("#death1").removeClass("hidden");
							}
							if(json.r_kills >= 2) {
								$("#death2").addClass("visible");
								$("#death2").removeClass("hidden");
							}
							if(json.r_kills >= 3) {
								$("#death3").addClass("visible");
								$("#death3").removeClass("hidden");
							}
							if(json.r_kills >= 4) {
								$("#death4").addClass("visible");
								$("#death4").removeClass("hidden");
							}
							if(json.r_kills >= 5) {
								$("#death5").addClass("visible");
								$("#death5").removeClass("hidden");
							}

							/*if(json.playersteam!=json.mysteam){
								$(".main").addClass("square");
								$(".main").removeClass("circle");
							}else{
								$(".main").addClass("circle");
								$(".main").removeClass("square");							
							} */

							var kd = 0;
							var kdlength = 1;
							if (json.deaths === 0 && json.kills === 0) {
								kd = 0;
								kdlength = 0.5;
							} else if (json.deaths === 0) {
								kd = json.kills;
							} else {
								kd = json.kills / json.deaths;
								kdlength = json.kills / (json.kills + json.deaths);
							}
							$("#barchartKills").width($(".progress").width() * kdlength);
						}
					}
				} else {}
			});
		</script>
	</div>

</body>

</html>
